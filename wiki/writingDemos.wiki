= Writing Demos =

Demos in PMTK3 are automatically published to html using the [http://pmtk3.googlecode.com/svn/trunk/misc/metatools/publishDemos.m publishDemos()] function. To ensure that these demos look nice, please format the comments as follows:

== Title == 

Every demo should have a title. This will appear in two places, the list of demos by chapter, and at the top of the demo itself. 

  * The title must be a single line, and the very first line of the file, above even the    function header. 
  * The title line must begin with two % signs followed by a single space, as in {{{%% Demo Title Here}}}.
  * Additional comments that pertain to the whole demo should immediately follow the title  without any blank lines and with each line beginning with a single % sign followed by a space. 
  * This comment block, even if empty, must end with two %% signs before the first line of Matlab code. 


{{{
%% Fit a mixture of Gaussians using variational Bayes
% Reproduce Bishop fig 10.6
%%
function mixGaussVbDemoFaithful()
setSeed(0);
X = load('faithful.txt'); % 272x2
X = standardizeCols(X);
.
.
.
}}}


== Sections == 

Break the demo into logical sections using two %% signs. The comment text on this line
is used as the section title and appears in the demos 'table' of contents.


{{{
%% Make data with mean 0 and unit variance
setSeed(0);
N = 10; D = 1;
data = rand(N, D);
data = standardizeCols(data);
m = mean(data);
s = sum(data);
sSq = sum(data.*data);
xbar = m;
sigma2Hat = sSq/N - xbar^2;
%% The true posterior model using normal gamma prior
% hyper parameters
a0 = 0; b0 = 0; mu0 = 0; kappa0 = 0;
truePost.mu = mean(data);
truePost.kappa = N;
truePost.alpha = N/2;
truePost.beta = 1/2*sum((data - m).^2);

%% Initialize VB to fit univariate gaussian
% initial guess
aN = 2.5; bN = 1;
muN = 0.5; kappaN = 5;
makePlot(truePost, aN, bN, muN, kappaN);
printPmtkFigure('unigaussVbDemo1')

iter = 1;
Lq = 0; 
maxIter = 100;
converged = false;
tol = 1e-5;
Lbound(1) = Lq;

%% Main loop of VB
.
.
.
}}}

== Figures ==

== Tags == 

== Additional Formatting Options == 

== Example == 

== Preview your Demo == 

Once you're finished writing your demo, preview what the published version will look like using the [http://pmtk3.googlecode.com/svn/trunk/misc/metatools/previewPublished.m previewPublish()] function.

{{{
previewPublish nameOfMyDemo
}}}


You can create a Matlab shortcut to preview the currently open document using this code:

{{{
EDHANDLE = com.mathworks.mlservices.MLEditorServices;
CURRENTDOC = char(EDHANDLE.builtinGetActiveDocument);
[FPATH, DOC] = fileparts(CURRENTDOC);
previewPublished(DOC); 
clear EDHANDLE CURRENTDOC FPATH DOC
}}}